# Variables substituted by the autoconf configure script:

SHELL = @SHELL@

CC = @CC@
CFLAGS = @CFLAGS@
CPPFLAGS = -I. @CPPFLAGS@
DEFS = @DEFS@
LDFLAGS = @LDFLAGS@
LIBS = @LIBS@
RANLIB = @RANLIB@
@SET_MAKE@

AR = ar

all: libs

OBJECTS = debug_malloc.o mpi_utils.o
LIBNAME = util.a

libs: $(LIBNAME)

util.a: $(OBJECTS)
	rm -f $@
	$(AR) r $@ $(OBJECTS)
	$(RANLIB) $@

.c.o:
	$(CC) $(DEFS) $(CPPFLAGS) -c $(CFLAGS) $< -o $@

clean: 
	rm -f $(OBJECTS) core $(LIBNAME)
